---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<Layout 
  title="Contact - Your Blog" 
  description="Get in touch with us. We'd love to hear from you about collaboration opportunities, questions, or feedback."
>
  <Header />
  
  <main class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="max-w-2xl mx-auto">
      <div class="text-center mb-12">
        <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-4">Get in Touch</h1>
        <p class="text-xl text-gray-600 dark:text-gray-300">
          We'd love to hear from you! Whether you have questions, feedback, or collaboration ideas, 
          don't hesitate to reach out.
        </p>
      </div>

      <div class="grid md:grid-cols-2 gap-12 mb-12">
        <!-- Contact Form -->
        <div>
          <h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-6">Send us a message</h2>
          
          <form id="contact-form" class="space-y-6">
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Name *
              </label>
              <input 
                type="text" 
                id="name" 
                name="name" 
                required
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"
                placeholder="Your full name"
              />
            </div>
            
            <div>
              <label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Email *
              </label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                required
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"
                placeholder="your.email@example.com"
              />
            </div>
            
            <div>
              <label for="subject" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Subject *
              </label>
              <input 
                type="text" 
                id="subject" 
                name="subject" 
                required
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"
                placeholder="What's this about?"
              />
            </div>
            
            <div>
              <label for="message" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">
                Message *
              </label>
              <textarea 
                id="message" 
                name="message" 
                rows="6" 
                required
                class="w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white resize-vertical"
                placeholder="Tell us more about your message..."
              ></textarea>
            </div>
            
            <button 
              type="submit" 
              class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-6 rounded-lg transition-colors focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"
            >
              Send Message
            </button>
          </form>
          
          <!-- Success/Error Messages -->
          <div id="form-success" class="hidden mt-4 p-4 bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 rounded-lg">
            <p class="font-medium">Message sent successfully!</p>
            <p class="text-sm">We'll get back to you as soon as possible.</p>
          </div>
          
          <div id="form-error" class="hidden mt-4 p-4 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-lg">
            <p class="font-medium">Something went wrong!</p>
            <p class="text-sm">Please try again or contact us directly via email.</p>
          </div>
        </div>

        <!-- Contact Information -->
        <div>
          <h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-6">Other ways to reach us</h2>
          
          <div class="space-y-6">
            <div class="flex items-start">
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-blue-600 mt-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                </svg>
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white">Email</h3>
                <p class="text-gray-600 dark:text-gray-300">hello@yourblog.com</p>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                  We typically respond within 24 hours
                </p>
              </div>
            </div>
            
            <div class="flex items-start">
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-blue-600 mt-1" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"/>
                </svg>
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white">Twitter</h3>
                <p class="text-gray-600 dark:text-gray-300">@yourblog</p>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                  Follow us for updates and quick questions
                </p>
              </div>
            </div>
            
            <div class="flex items-start">
              <div class="flex-shrink-0">
                <svg class="w-6 h-6 text-blue-600 mt-1" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                </svg>
              </div>
              <div class="ml-4">
                <h3 class="text-lg font-medium text-gray-900 dark:text-white">GitHub</h3>
                <p class="text-gray-600 dark:text-gray-300">github.com/yourblog</p>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-1">
                  Check out our open source projects
                </p>
              </div>
            </div>
          </div>
          
          <div class="mt-8 p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">Looking to collaborate?</h3>
            <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
              We're always interested in guest posts, partnerships, and collaboration opportunities. 
              Let us know what you have in mind!
            </p>
            <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
              <li>• Guest blog posts</li>
              <li>• Technical partnerships</li>
              <li>• Speaking opportunities</li>
              <li>• Content collaboration</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <div class="border-t border-gray-200 dark:border-gray-700 pt-12">
        <h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-8 text-center">Frequently Asked Questions</h2>
        
        <div class="space-y-6">
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">How quickly do you respond to messages?</h3>
            <p class="text-gray-600 dark:text-gray-300">We typically respond to all messages within 24 hours during business days. For urgent matters, feel free to reach out on Twitter for a faster response.</p>
          </div>
          
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">Do you accept guest posts?</h3>
            <p class="text-gray-600 dark:text-gray-300">Yes! We're always looking for high-quality guest posts on topics related to web development, performance, and modern technologies. Please include your topic idea and a brief outline when contacting us.</p>
          </div>
          
          <div class="bg-white dark:bg-gray-800 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
            <h3 class="text-lg font-medium text-gray-900 dark:text-white mb-2">Can you help with my specific project?</h3>
            <p class="text-gray-600 dark:text-gray-300">While we can't provide individual consulting services, we're happy to answer general questions and consider your topic suggestions for future blog posts that might help you and others with similar challenges.</p>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <Footer />
</Layout>

<script>
  // Contact form handling
  const form = document.getElementById('contact-form') as HTMLFormElement;
  const successMessage = document.getElementById('form-success');
  const errorMessage = document.getElementById('form-error');
  
  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // Hide previous messages
    successMessage?.classList.add('hidden');
    errorMessage?.classList.add('hidden');
    
    // Get form data
    const formData = new FormData(form);
    const data = Object.fromEntries(formData);
    
    try {
      // In a real implementation, you would send this to your backend
      // For now, we'll simulate a successful submission
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      // Show success message
      successMessage?.classList.remove('hidden');
      form.reset();
      
      // In a real implementation, you might use:
      // const response = await fetch('/api/contact', {
      //   method: 'POST',
      //   headers: { 'Content-Type': 'application/json' },
      //   body: JSON.stringify(data)
      // });
      
    } catch (error) {
      // Show error message
      errorMessage?.classList.remove('hidden');
    }
  });
</script>
